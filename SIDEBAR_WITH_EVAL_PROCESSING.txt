# Updated Sidebar with Eval Type Processing

## NEW SIDEBAR LAYOUT

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  SIDEBAR                                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  ğŸ“‹ Settings                                                  â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                          â•‘
â•‘                                                               â•‘
â•‘  ### ğŸ¤– Model Selection                                       â•‘
â•‘                                                               â•‘
â•‘  Select model to analyze                                      â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ All Models                                          â–¼   â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                               â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â•‘
â•‘                                                               â•‘
â•‘  ### âš™ï¸ Configuration ID                         â­ NEW       â•‘
â•‘                                                               â•‘
â•‘  Select config ID                                             â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ All Configs                                         â–¼   â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                               â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â•‘
â•‘                                                               â•‘
â•‘  ### ğŸ”§ Eval Type Processing                     â­ NEW       â•‘
â•‘                                                               â•‘
â•‘  â˜ Convert FP_IOU to FP directly                             â•‘
â•‘     If checked, FP_IOU â†’ FP without IoU comparison           â•‘
â•‘                                                               â•‘
â•‘  â˜‘ Convert D (duplicates) to FP                              â•‘
â•‘     If checked, duplicate detections â†’ FP                    â•‘
â•‘                                                               â•‘
â•‘  â–¶ â„¹ï¸ Eval Type Info                                         â•‘
â•‘    (Click to expand)                                          â•‘
â•‘                                                               â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â•‘
â•‘                                                               â•‘
â•‘  ### ğŸšï¸ Confidence Threshold                                 â•‘
â•‘                                                               â•‘
â•‘  Select confidence threshold                                  â•‘
â•‘  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                          â•‘
â•‘  0.0      0.5                  1.0                            â•‘
â•‘                                                               â•‘
â•‘  â„¹ï¸ Adjust the confidence threshold                          â•‘
â•‘     to see how metrics change                                 â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## EXPANDED EVAL TYPE INFO

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ### ğŸ”§ Eval Type Processing                                  â•‘
â•‘                                                               â•‘
â•‘  â˜ Convert FP_IOU to FP directly                             â•‘
â•‘  â˜‘ Convert D (duplicates) to FP                              â•‘
â•‘                                                               â•‘
â•‘  â–¼ â„¹ï¸ Eval Type Info                                         â•‘
â•‘                                                               â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚  Eval Types:                                          â”‚  â•‘
â•‘  â”‚  â€¢ TP: True Positive (correct detection)             â”‚  â•‘
â•‘  â”‚  â€¢ FP: False Positive (incorrect detection)          â”‚  â•‘
â•‘  â”‚  â€¢ FP_IOU: FP due to low IoU with GT                 â”‚  â•‘
â•‘  â”‚  â€¢ D: Duplicate detection                            â”‚  â•‘
â•‘  â”‚                                                       â”‚  â•‘
â•‘  â”‚  Processing:                                          â”‚  â•‘
â•‘  â”‚  â€¢ When unchecked, FP_IOU is processed based         â”‚  â•‘
â•‘  â”‚    on IoU comparison                                 â”‚  â•‘
â•‘  â”‚  â€¢ D can be kept separate or converted to FP        â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## PROCESSING CONFIGURATIONS

### Configuration 1: Strict Evaluation (Default)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ### ğŸ”§ Eval Type Processing                   â”‚
â”‚                                                â”‚
â”‚  â˜ Convert FP_IOU to FP directly               â”‚
â”‚  â˜‘ Convert D (duplicates) to FP                â”‚
â”‚                                                â”‚
â”‚  Result:                                       â”‚
â”‚  â€¢ FP_IOU: Processed with IoU comparison       â”‚
â”‚  â€¢ Best IoU becomes TP                         â”‚
â”‚  â€¢ Duplicates count as FP                      â”‚
â”‚  â€¢ Most realistic metrics                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Configuration 2: Lenient on Duplicates
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ### ğŸ”§ Eval Type Processing                   â”‚
â”‚                                                â”‚
â”‚  â˜ Convert FP_IOU to FP directly               â”‚
â”‚  â˜ Convert D (duplicates) to FP                â”‚
â”‚                                                â”‚
â”‚  Result:                                       â”‚
â”‚  â€¢ FP_IOU: Processed with IoU comparison       â”‚
â”‚  â€¢ Best IoU becomes TP                         â”‚
â”‚  â€¢ Duplicates stay as D                        â”‚
â”‚  â€¢ Lower FAR (duplicates not penalized)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Configuration 3: Simple FP Conversion
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ### ğŸ”§ Eval Type Processing                   â”‚
â”‚                                                â”‚
â”‚  â˜‘ Convert FP_IOU to FP directly               â”‚
â”‚  â˜‘ Convert D (duplicates) to FP                â”‚
â”‚                                                â”‚
â”‚  Result:                                       â”‚
â”‚  â€¢ FP_IOU â†’ FP immediately                     â”‚
â”‚  â€¢ No IoU comparison                           â”‚
â”‚  â€¢ Duplicates count as FP                      â”‚
â”‚  â€¢ Fastest processing                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Configuration 4: Track Separately
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ### ğŸ”§ Eval Type Processing                   â”‚
â”‚                                                â”‚
â”‚  â˜‘ Convert FP_IOU to FP directly               â”‚
â”‚  â˜ Convert D (duplicates) to FP                â”‚
â”‚                                                â”‚
â”‚  Result:                                       â”‚
â”‚  â€¢ FP_IOU â†’ FP immediately                     â”‚
â”‚  â€¢ Duplicates stay as D                        â”‚
â”‚  â€¢ Can analyze duplicate rate separately       â”‚
â”‚  â€¢ Middle ground approach                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## METRICS IMPACT

### With Default Settings (â˜ FP_IOU, â˜‘ D)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ˆ Current Metrics                                    â”‚
â”‚  Model: YourModel | Threshold: 0.500                   â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Recall     â”‚  â”‚ FAR        â”‚  â”‚ TP   â”‚  â”‚ FP   â”‚  â”‚
â”‚  â”‚ 87.34%     â”‚  â”‚ 0.0345     â”‚  â”‚ 2456 â”‚  â”‚ 156  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â”‚  FP includes: Original FP + Processed D                â”‚
â”‚  TP: Best IoU detections only                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### With Lenient Settings (â˜ FP_IOU, â˜ D)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ˆ Current Metrics                                    â”‚
â”‚  Model: YourModel | Threshold: 0.500                   â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Recall     â”‚  â”‚ FAR        â”‚  â”‚ TP   â”‚  â”‚ FP   â”‚  â”‚
â”‚  â”‚ 87.34%     â”‚  â”‚ 0.0189     â”‚  â”‚ 2456 â”‚  â”‚ 85   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â”‚  FP: Original FP only (D not included)                 â”‚
â”‚  TP: Best IoU detections only                          â”‚
â”‚  Lower FAR because D is excluded                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## WORKFLOW WITH NEW FEATURES

```
START DASHBOARD
    â”‚
    â”œâ”€â†’ 1. Load Data
    â”‚      â€¢ Includes: scenario, config_id, IoU, bbox
    â”‚      â€¢ Status: "Loading data from BigQuery..."
    â”‚
    â”œâ”€â†’ 2. Select Model (if multiple available)
    â”‚      â€¢ Dropdown shows model names
    â”‚      â€¢ Select specific model or "All Models"
    â”‚
    â”œâ”€â†’ 3. Select Config ID (if multiple available)  â­ NEW
    â”‚      â€¢ Dropdown shows config IDs
    â”‚      â€¢ Select specific config or "All Configs"
    â”‚
    â”œâ”€â†’ 4. Configure Eval Type Processing          â­ NEW
    â”‚      â€¢ Toggle FP_IOU processing
    â”‚      â€¢ Toggle D â†’ FP conversion
    â”‚      â€¢ Read info in expander
    â”‚
    â”œâ”€â†’ 5. Processing Happens Automatically
    â”‚      â€¢ "Calculating ROC curve for {model}..."
    â”‚      â€¢ FP_IOU processed based on IoU
    â”‚      â€¢ D converted (or not) based on setting
    â”‚
    â”œâ”€â†’ 6. Set Confidence Threshold
    â”‚      â€¢ Move slider 0.0 - 1.0
    â”‚      â€¢ Metrics update in real-time
    â”‚
    â””â”€â†’ 7. Analyze Results
           â€¢ View ROC curve
           â€¢ Check metrics
           â€¢ Download CSV
           â€¢ Compare models
```

## BEFORE VS AFTER

### BEFORE (Original):
```
Eval Types Supported: TP, FP only
Processing: None
Result: FP_IOU and D ignored or misclassified
```

### AFTER (With Processing):
```
Eval Types Supported: TP, FP, FP_IOU, D
Processing: 
  â€¢ FP_IOU: IoU-based TP selection or direct FP
  â€¢ D: Convert to FP or keep separate
Result: Accurate metrics with proper classification
```

## EXAMPLE COMPARISON

### Original Metrics (Without Processing):
```
Recall: 82.45%  (Missing TPs that were marked FP_IOU)
FAR: 0.0234     (FP_IOU and D not properly counted)
TP: 2134        (Doesn't include best FP_IOU)
FP: 105         (Missing D and FP_IOU)
```

### Processed Metrics (With Processing):
```
Recall: 87.34%  (Includes promoted FP_IOU as TP)
FAR: 0.0345     (Properly counts FP + D)
TP: 2456        (Includes best IoU detections)
FP: 156         (Includes original FP + D)
```

**Improvement: 4.89% higher recall, more accurate FAR!**

## SUMMARY

âœ… **New Sidebar Controls:**
   - Config ID selector
   - FP_IOU processing toggle
   - Duplicate handling toggle
   - Info expander

âœ… **Intelligent Processing:**
   - IoU-based TP selection
   - Batch updates for speed
   - Configurable behavior

âœ… **Better Metrics:**
   - More accurate recall
   - Proper FAR calculation
   - Realistic performance assessment

**Your dashboard now handles all eval types correctly!** ğŸ‰
